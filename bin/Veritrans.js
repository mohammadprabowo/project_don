var Bank;
(function (Bank) {
    Bank[Bank["bni"] = 0] = "bni";
    Bank[Bank["mandiri"] = 1] = "mandiri";
    Bank[Bank["cimb"] = 2] = "cimb";
    Bank[Bank["bca"] = 3] = "bca";
})(Bank || (Bank = {}));
/// <reference path="Bank.ts" />
/// <reference path="Token.ts" />
var Util = (function () {
    function Util(document) {
        this.document = document;
    }
    Util.prototype.validateToken = function (token, clientKey, isTwoClick) {
        // add validation here if needed, before send to url endpoint
        var vtRequest = token();
        if (isTwoClick) {
            vtRequest.two_click = 'true';
        }
        vtRequest.callback = 'Veritrans.prefix';
        vtRequest.client_key = clientKey;
        return vtRequest;
    };
    ;
    Util.prototype.processJsonP = function (url) {
        var s = this.document.createElement('script');
        s.src = String(url);
        this.document.getElementsByTagName('head')[0].appendChild(s);
    };
    ;
    Util.prototype.toQueryParam = function (token) {
        var tokenObject;
        tokenObject = token;
        var encode = encodeURIComponent;
        var keys = Object.keys(token);
        var queryString = '?' + keys.filter(function (value) { return tokenObject.hasOwnProperty(value); })
            .map(function (value) { return encode(value) + '=' + encode(tokenObject[value]); })
            .join('&');
        return queryString;
    };
    return Util;
})();
/// <reference path="Token.ts" />
var template;
(function (template) {
    function simple(url, clientKey, host, amount, secure) {
        var html = "<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n\t<meta charset=\"UTF-8\">\n\t<title>Veritrans Embedded Form</title>\n\t<link rel=\"stylesheet\" href=\"http://jondavidjohn.github.io/payform/stylesheets/styles.css\">\n\t<link rel=\"stylesheet\" href=\"http://jondavidjohn.github.io/payform/stylesheets/pygment_trac.css\">\n</head>\n\n<body>\n\t<section>\n\t\t<div>\n\t\t\t<span class=\"field\">\n            <label for=\"ccnum\">Card Number</label>\n            <input placeholder=\"---- ---- ---- ----\" type=\"tel\" size=\"19\" name=\"ccnum\" value=\"\" id=\"ccnum\">\n          </span>\n\t\t\t<div><small>type: <strong id=\"ccnum-type\">invalid</strong></small></div>\n\t\t</div>\n\n\t\t<div>\n\t\t\t<span class=\"field\">\n            <label for=\"expiry\">Expiration</label>\n            <input placeholder=\"-- / --\" size=\"7\" type=\"tel\" name=\"expiry\" value=\"\" id=\"expiry\">\n          </span>\n\n\t\t\t<span class=\"cvc field\">\n            <label for=\"cvc\">CVC</label>\n            <input placeholder=\"---\" size=\"4\" type=\"tel\" name=\"cvc\" value=\"\" id=\"cvc\">\n          </span>\n\t\t</div>\n\n\t\t<div>\n\t\t\t<button id=\"submit\">Pay " + amount + "</button>\n\t\t\t<div id=\"result\" class=\"emoji\"></div>\n\t\t</div>\n\t</section>\n\t<script src=\"http://jondavidjohn.github.io/payform/javascripts/scale.fix.js\"></script>\n\t<script src=\"http://jondavidjohn.github.io/payform/javascripts/payform.min.js\"></script>\n\t<script src=\"http://jondavidjohn.github.io/payform/javascripts/form.js\"></script>\n\n\t<script src=\"http://127.0.0.1:8080/Veritrans.js\"></script>\n\t<script>\n\t\tVeritrans.url = \"" + url + "\";\n\t\tVeritrans.client_key = \"" + clientKey + "\";\n\t\tvar card = function(){\n\t\t\treturn {\n\t\t\t'card_number'     \t: document.getElementById(\"ccnum\").value.replace(/s+/, \"\").trim(),\n\t\t\t'card_exp_month'  \t: payform.parseCardExpiry(document.getElementById(\"expiry\").value).month < 10 ? \"0\" + payform.parseCardExpiry(document.getElementById(\"expiry\").value).month :\n\t\t\tpayform.parseCardExpiry(document.getElementById(\"expiry\").value).month,\n\t\t\t'card_exp_year'   \t: payform.parseCardExpiry(document.getElementById(\"expiry\").value).year,\n\t\t\t'card_cvv'        \t: document.getElementById(\"cvc\").value.replace(/s+/, \"\").trim(),\n\t\t\t'secure'       \t\t: " + secure + ",\n\t\t\t'gross_amount'   \t: " + amount + "\n\t\t\t}\n\t\t};\n\n\t\tdocument.getElementById(\"submit\").addEventListener(\"click\", function() {\n\t\t\tif (document.getElementById(\"result\").classList.contains(\"valid\")) {\n\n\t\t\t\tVeritrans.token(card, function(event){\n\t\t\t\t\twindow.parent.postMessage(event.token_id, \"http://" + host + "\");\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t</script>\n</body>\n\n</html>";
        return html;
    }
    template.simple = simple;
    function semantic(url, clientKey, host, amount, secure) {
        var html = "\n\t\t<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n    <meta charset=\"UTF-8\">\n    <link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css\">\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.1.4/semantic.min.css\">\n    <title>New Document</title>\n</head>\n\n<body>\n\n    <div class=\"container\">\n\n\n            <form id=\"credit-card-form\" name=\"creditcardform\" class=\"ui form\">\n                <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">\n                    <div id=\"error-message\" class=\"ui error message\"></div>\n                    <div class=\"form-group\">\n                        <label>Credit Card Number</label>\n                        <div class=\"ui fluid icon input\">\n                            <input id=\"card-number\" name=\"cardnumber\" class=\"form-control\" type=\"text\" placeholder=\"XXXX XXXX XXXX XXXX\" />\n                            <i id=\"credit-card-logo\" class=\"payment icon\"></i>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"col-xs-7 col-sm-7 col-md-7 col-lg-7\">\n                    <div class=\"form-group\">\n                        <label>Exp. Date</label>\n                        <input id=\"exp-date\" name=\"expdate\" class=\"form-control\" type=\"text\" placeholder=\"MM / YY\" />\n                    </div>\n                </div>\n                <div class=\"col-xs-5 col-sm-5 col-md-5 col-lg-5\">\n                    <div class=\"form-group\">\n                        <label>CVV</label>\n                        <input id=\"cvv\" name=\"cvv\" class=\"form-control\" type=\"text\" placeholder=\"***\" />\n                    </div>\n                </div>\n                <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">\n                    <div class=\"form-group\">\n                        <input type=\"submit\" class=\"ui primary button fluid\" value=\"Confirm Payment " + amount + "\" />\n                    </div>\n                </div>\n            </form>\n\n    </div>\n\n<script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js\"></script>\n<script src=\"http://127.0.0.1:8080/lib/js/jquery.formatter.min.js\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.1.4/semantic.min.js\"></script>\n\n<script src=\"http://127.0.0.1:8080/Veritrans.js\"></script>\n\n\n<script type=\"text/javascript\">\n    $(document).ready(function() {\n\n        function isCardNumberValid (cardnumber) {\n            var len = cardnumber.length;\n            var mul = 0;\n            var prodArr = [[0, 1, 2, 3, 4, 5, 6, 7, 8, 9], [0, 2, 4, 6, 8, 1, 3, 5, 7, 9]];\n            var sum = 0;\n\n            while (len--) {\n                sum += prodArr[mul][parseInt(cardnumber.charAt(len), 10)];\n                mul ^= 1;\n            }\n\n            if (sum % 10 === 0 && sum > 0) {\n                return true;\n            } else {\n                return false;\n            }\n        }\n\n        function isExpDateValid (expdate) {\n            var date = expdate.split(\" \");\n            date[1] = date[2];\n            var currentDate = new Date();\n            if (expdate.length == 6) {\n              //Format date mm/yy\n              var str = '20';\n              date[1] = parseInt(str + date[1]);\n            }\n\n            if (currentDate.getFullYear() == date[1]){\n              if (date[0] >= currentDate.getMonth() && date[0] <= 12){\n                return true;\n              }\n              else {\n                return false;\n              }\n            }\n            else if (date[1] > currentDate.getFullYear()){\n              if (date[0] >= 1 && date[0] <= 12){\n                return true;\n              }\n              else{\n                return false;\n              }\n            }\n            else{\n              return false;\n            }\n        }\n\n        function isCvvValid (cvv) {\n            if (isNaN(parseInt(cvv))){\n                return false;\n            } else {\n                return true;\n            }\n        }\n\n        $('#card-number').formatter({\n            'pattern': '{{9999}} {{9999}} {{9999}} {{9999}}'\n        });\n\n        $('#exp-date').formatter({\n            'pattern': '{{99}} / {{99}}'\n        });\n\n        $('#credit-card-form').submit(function(event){\n            event.preventDefault();\n            var card_number = document.getElementById('card-number').value.replace(/\\s/g, \"\");\n            var card_exp_date = document.getElementById('exp-date').value.replace(/[/]/g, '');\n\t\t\t\t\t\tvar card_exp_month = document.getElementById('exp-date').value.substr(0,2);\n            var card_exp_year = document.getElementById('exp-date').value.substr(5,2);\n            var card_cvv = document.getElementById('cvv').value;\n            var error_messages = \"\";\n            if (!isCardNumberValid(card_number)){\n                error_messages += \"<li>Card Number is Invalid</li>\";\n            }\n            if (!isCvvValid(card_cvv)){\n                error_messages += \"<li>CVV is Invalid</li>\";\n            }\n            if (!isExpDateValid(card_exp_date)){\n                error_messages += \"<li>Exp Date is Invalid</li>\";\n            }\n            $('#error-message').empty().append(error_messages);\n            if (error_messages != \"\"){\n                event.preventDefault();\n                $('#error-message').show();\n\n                return false;\n            } else {\n                event.preventDefault();\n                var card = function() {\n                    return {\n                        'card_number' : card_number,\n                        'card_exp_date' : card_exp_date,\n                        'card_exp_month' : card_exp_month,\n                        'card_exp_year' : card_exp_year,\n                        'card_cvv' : card_cvv,\n\t\t\t\t\t\t'secure' : " + secure + ",\n                        'gross_amount' : " + amount + "\n                    }\n                }\n\n                Veritrans.url = \"" + url + "\";\n\t\t        Veritrans.client_key = \"" + clientKey + "\";\n\n                Veritrans.token(card, function(event){\n\t\t\t\t\twindow.parent.postMessage(event, \"http://" + host + "\");\n\t\t\t\t});\n\n                return true;\n            }\n        });\n    });\n\n</script>\n</body>\n</html>";
        return html;
    }
    template.semantic = semantic;
    function cardio(url, clientKey, host, amount, secure) {
        var html = "\n        <!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n\t<title>Card \u2014 make your credit card better in one line of code</title>\n\t<meta name=\"viewport\" content=\"width=device-width, user-scalable=no\">\n\t<link rel=\"shortcut icon\" href=\"src/favicon.ico\">\n\t<link rel=\"stylesheet\" href=\"http://jessepollak.github.io/card/build/css/demo.css\">\n\t<style type=\"text/css\">\n\t\t.jp-card.jp-card-safari.jp-card-identified .jp-card-front:before,\n\t\t.jp-card.jp-card-safari.jp-card-identified .jp-card-back:before {\n\t\t\tbackground-image: repeating-linear-gradient(45deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(135deg, rgba(255, 255, 255, 0.05) 1px, rgba(255, 255, 255, 0) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.03) 4px), repeating-linear-gradient(90deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(210deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), -webkit-linear-gradient(-245deg, rgba(255, 255, 255, 0) 50%, rgba(255, 255, 255, 0.2) 70%, rgba(255, 255, 255, 0) 90%);\n\t\t\tbackground-image: repeating-linear-gradient(45deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(135deg, rgba(255, 255, 255, 0.05) 1px, rgba(255, 255, 255, 0) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.03) 4px), repeating-linear-gradient(90deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(210deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), linear-gradient(-25deg, rgba(255, 255, 255, 0) 50%, rgba(255, 255, 255, 0.2) 70%, rgba(255, 255, 255, 0) 90%);\n\t\t}\n\n\t\t.jp-card.jp-card-ie-10.jp-card-flipped,\n\t\t.jp-card.jp-card-ie-11.jp-card-flipped {\n\t\t\t-webkit-transform: 0deg;\n\t\t\t-moz-transform: 0deg;\n\t\t\t-ms-transform: 0deg;\n\t\t\t-o-transform: 0deg;\n\t\t\ttransform: 0deg;\n\t\t}\n\n\t\t.jp-card.jp-card-ie-10.jp-card-flipped .jp-card-front,\n\t\t.jp-card.jp-card-ie-11.jp-card-flipped .jp-card-front {\n\t\t\t-webkit-transform: rotateY(0deg);\n\t\t\t-moz-transform: rotateY(0deg);\n\t\t\t-ms-transform: rotateY(0deg);\n\t\t\t-o-transform: rotateY(0deg);\n\t\t\ttransform: rotateY(0deg);\n\t\t}\n\n\t\t.jp-card.jp-card-ie-10.jp-card-flipped .jp-card-back,\n\t\t.jp-card.jp-card-ie-11.jp-card-flipped .jp-card-back {\n\t\t\t-webkit-transform: rotateY(0deg);\n\t\t\t-moz-transform: rotateY(0deg);\n\t\t\t-ms-transform: rotateY(0deg);\n\t\t\t-o-transform: rotateY(0deg);\n\t\t\ttransform: rotateY(0deg);\n\t\t}\n\n\t\t.jp-card.jp-card-ie-10.jp-card-flipped .jp-card-back:after,\n\t\t.jp-card.jp-card-ie-11.jp-card-flipped .jp-card-back:after {\n\t\t\tleft: 18%;\n\t\t}\n\n\t\t.jp-card.jp-card-ie-10.jp-card-flipped .jp-card-back .jp-card-cvc,\n\t\t.jp-card.jp-card-ie-11.jp-card-flipped .jp-card-back .jp-card-cvc {\n\t\t\t-webkit-transform: rotateY(180deg);\n\t\t\t-moz-transform: rotateY(180deg);\n\t\t\t-ms-transform: rotateY(180deg);\n\t\t\t-o-transform: rotateY(180deg);\n\t\t\ttransform: rotateY(180deg);\n\t\t\tleft: 5%;\n\t\t}\n\n\t\t.jp-card.jp-card-ie-10.jp-card-flipped .jp-card-back .jp-card-shiny,\n\t\t.jp-card.jp-card-ie-11.jp-card-flipped .jp-card-back .jp-card-shiny {\n\t\t\tleft: 84%;\n\t\t}\n\n\t\t.jp-card.jp-card-ie-10.jp-card-flipped .jp-card-back .jp-card-shiny:after,\n\t\t.jp-card.jp-card-ie-11.jp-card-flipped .jp-card-back .jp-card-shiny:after {\n\t\t\tleft: -480%;\n\t\t\t-webkit-transform: rotateY(180deg);\n\t\t\t-moz-transform: rotateY(180deg);\n\t\t\t-ms-transform: rotateY(180deg);\n\t\t\t-o-transform: rotateY(180deg);\n\t\t\ttransform: rotateY(180deg);\n\t\t}\n\n\t\t.jp-card.jp-card-ie-10.jp-card-amex .jp-card-back,\n\t\t.jp-card.jp-card-ie-11.jp-card-amex .jp-card-back {\n\t\t\tdisplay: none;\n\t\t}\n\n\t\t.jp-card-logo {\n\t\t\theight: 36px;\n\t\t\twidth: 60px;\n\t\t\tfont-style: italic;\n\t\t}\n\n\t\t.jp-card-logo,\n\t\t.jp-card-logo:before,\n\t\t.jp-card-logo:after {\n\t\t\tbox-sizing: border-box;\n\t\t}\n\n\t\t.jp-card-logo.jp-card-amex {\n\t\t\ttext-transform: uppercase;\n\t\t\tfont-size: 4px;\n\t\t\tfont-weight: bold;\n\t\t\tcolor: white;\n\t\t\tbackground-image: repeating-radial-gradient(circle at center, #FFF 1px, #999 2px);\n\t\t\tbackground-image: repeating-radial-gradient(circle at center, #FFF 1px, #999 2px);\n\t\t\tborder: 1px solid #EEE;\n\t\t}\n\n\t\t.jp-card-logo.jp-card-amex:before,\n\t\t.jp-card-logo.jp-card-amex:after {\n\t\t\twidth: 28px;\n\t\t\tdisplay: block;\n\t\t\tposition: absolute;\n\t\t\tleft: 16px;\n\t\t}\n\n\t\t.jp-card-logo.jp-card-amex:before {\n\t\t\theight: 28px;\n\t\t\tcontent: \"american\";\n\t\t\ttop: 3px;\n\t\t\ttext-align: left;\n\t\t\tpadding-left: 2px;\n\t\t\tpadding-top: 11px;\n\t\t\tbackground: #267AC3;\n\t\t}\n\n\t\t.jp-card-logo.jp-card-amex:after {\n\t\t\tcontent: \"express\";\n\t\t\tbottom: 11px;\n\t\t\ttext-align: right;\n\t\t\tpadding-right: 2px;\n\t\t}\n\n\t\t.jp-card.jp-card-amex.jp-card-flipped {\n\t\t\t-webkit-transform: none;\n\t\t\t-moz-transform: none;\n\t\t\t-ms-transform: none;\n\t\t\t-o-transform: none;\n\t\t\ttransform: none;\n\t\t}\n\n\t\t.jp-card.jp-card-amex.jp-card-identified .jp-card-front:before,\n\t\t.jp-card.jp-card-amex.jp-card-identified .jp-card-back:before {\n\t\t\tbackground-color: #108168;\n\t\t}\n\n\t\t.jp-card.jp-card-amex.jp-card-identified .jp-card-front .jp-card-logo.jp-card-amex {\n\t\t\topacity: 1;\n\t\t}\n\n\t\t.jp-card.jp-card-amex.jp-card-identified .jp-card-front .jp-card-cvc {\n\t\t\tvisibility: visible;\n\t\t}\n\n\t\t.jp-card.jp-card-amex.jp-card-identified .jp-card-front:after {\n\t\t\topacity: 1;\n\t\t}\n\n\t\t.jp-card-logo.jp-card-discover {\n\t\t\tbackground: #FF6600;\n\t\t\tcolor: #111;\n\t\t\ttext-transform: uppercase;\n\t\t\tfont-style: normal;\n\t\t\tfont-weight: bold;\n\t\t\tfont-size: 10px;\n\t\t\ttext-align: center;\n\t\t\toverflow: hidden;\n\t\t\tz-index: 1;\n\t\t\tpadding-top: 9px;\n\t\t\tletter-spacing: .03em;\n\t\t\tborder: 1px solid #EEE;\n\t\t}\n\n\t\t.jp-card-logo.jp-card-discover:before,\n\t\t.jp-card-logo.jp-card-discover:after {\n\t\t\tcontent: \" \";\n\t\t\tdisplay: block;\n\t\t\tposition: absolute;\n\t\t}\n\n\t\t.jp-card-logo.jp-card-discover:before {\n\t\t\tbackground: white;\n\t\t\twidth: 200px;\n\t\t\theight: 200px;\n\t\t\tborder-radius: 200px;\n\t\t\tbottom: -5%;\n\t\t\tright: -80%;\n\t\t\tz-index: -1;\n\t\t}\n\n\t\t.jp-card-logo.jp-card-discover:after {\n\t\t\twidth: 8px;\n\t\t\theight: 8px;\n\t\t\tborder-radius: 4px;\n\t\t\ttop: 10px;\n\t\t\tleft: 27px;\n\t\t\tbackground-color: #FF6600;\n\t\t\tbackground-image: -webkit-radial-gradient(#FF6600, #fff, , , , , , , , );\n\t\t\tbackground-image: radial-gradient( #FF6600, #fff, , , , , , , , );\n\t\t\tcontent: \"network\";\n\t\t\tfont-size: 4px;\n\t\t\tline-height: 24px;\n\t\t\ttext-indent: -7px;\n\t\t}\n\n\t\t.jp-card .jp-card-front .jp-card-logo.jp-card-discover {\n\t\t\tright: 12%;\n\t\t\ttop: 18%;\n\t\t}\n\n\t\t.jp-card.jp-card-discover.jp-card-identified .jp-card-front:before,\n\t\t.jp-card.jp-card-discover.jp-card-identified .jp-card-back:before {\n\t\t\tbackground-color: #86B8CF;\n\t\t}\n\n\t\t.jp-card.jp-card-discover.jp-card-identified .jp-card-logo.jp-card-discover {\n\t\t\topacity: 1;\n\t\t}\n\n\t\t.jp-card.jp-card-discover.jp-card-identified .jp-card-front:after {\n\t\t\t-webkit-transition: 400ms;\n\t\t\t-moz-transition: 400ms;\n\t\t\ttransition: 400ms;\n\t\t\tcontent: \" \";\n\t\t\tdisplay: block;\n\t\t\tbackground-color: #FF6600;\n\t\t\tbackground-image: -webkit-linear-gradient(#FF6600, #ffa366, #FF6600);\n\t\t\tbackground-image: linear-gradient(#FF6600, #ffa366, #FF6600, , , , , , , );\n\t\t\theight: 50px;\n\t\t\twidth: 50px;\n\t\t\tborder-radius: 25px;\n\t\t\tposition: absolute;\n\t\t\tleft: 100%;\n\t\t\ttop: 15%;\n\t\t\tmargin-left: -25px;\n\t\t\tbox-shadow: inset 1px 1px 3px 1px rgba(0, 0, 0, 0.5);\n\t\t}\n\n\t\t.jp-card-logo.jp-card-visa {\n\t\t\tbackground: white;\n\t\t\ttext-transform: uppercase;\n\t\t\tcolor: #1A1876;\n\t\t\ttext-align: center;\n\t\t\tfont-weight: bold;\n\t\t\tfont-size: 15px;\n\t\t\tline-height: 18px;\n\t\t}\n\n\t\t.jp-card-logo.jp-card-visa:before,\n\t\t.jp-card-logo.jp-card-visa:after {\n\t\t\tcontent: \" \";\n\t\t\tdisplay: block;\n\t\t\twidth: 100%;\n\t\t\theight: 25%;\n\t\t}\n\n\t\t.jp-card-logo.jp-card-visa:before {\n\t\t\tbackground: #1A1876;\n\t\t}\n\n\t\t.jp-card-logo.jp-card-visa:after {\n\t\t\tbackground: #E79800;\n\t\t}\n\n\t\t.jp-card.jp-card-visa.jp-card-identified .jp-card-front:before,\n\t\t.jp-card.jp-card-visa.jp-card-identified .jp-card-back:before {\n\t\t\tbackground-color: #191278;\n\t\t}\n\n\t\t.jp-card.jp-card-visa.jp-card-identified .jp-card-logo.jp-card-visa {\n\t\t\topacity: 1;\n\t\t}\n\n\t\t.jp-card-logo.jp-card-mastercard {\n\t\t\tcolor: white;\n\t\t\tfont-weight: bold;\n\t\t\ttext-align: center;\n\t\t\tfont-size: 9px;\n\t\t\tline-height: 36px;\n\t\t\tz-index: 1;\n\t\t\ttext-shadow: 1px 1px rgba(0, 0, 0, 0.6);\n\t\t}\n\n\t\t.jp-card-logo.jp-card-mastercard:before,\n\t\t.jp-card-logo.jp-card-mastercard:after {\n\t\t\tcontent: \" \";\n\t\t\tdisplay: block;\n\t\t\twidth: 36px;\n\t\t\ttop: 0;\n\t\t\tposition: absolute;\n\t\t\theight: 36px;\n\t\t\tborder-radius: 18px;\n\t\t}\n\n\t\t.jp-card-logo.jp-card-mastercard:before {\n\t\t\tleft: 0;\n\t\t\tbackground: #FF0000;\n\t\t\tz-index: -1;\n\t\t}\n\n\t\t.jp-card-logo.jp-card-mastercard:after {\n\t\t\tright: 0;\n\t\t\tbackground: #FFAB00;\n\t\t\tz-index: -2;\n\t\t}\n\n\t\t.jp-card.jp-card-mastercard.jp-card-identified .jp-card-front .jp-card-logo.jp-card-mastercard,\n\t\t.jp-card.jp-card-mastercard.jp-card-identified .jp-card-back .jp-card-logo.jp-card-mastercard {\n\t\t\tbox-shadow: none;\n\t\t}\n\n\t\t.jp-card.jp-card-mastercard.jp-card-identified .jp-card-front:before,\n\t\t.jp-card.jp-card-mastercard.jp-card-identified .jp-card-back:before {\n\t\t\tbackground-color: #0061A8;\n\t\t}\n\n\t\t.jp-card.jp-card-mastercard.jp-card-identified .jp-card-logo.jp-card-mastercard {\n\t\t\topacity: 1;\n\t\t}\n\n\t\t.jp-card-logo.jp-card-maestro {\n\t\t\tcolor: white;\n\t\t\tfont-weight: bold;\n\t\t\ttext-align: center;\n\t\t\tfont-size: 14px;\n\t\t\tline-height: 36px;\n\t\t\tz-index: 1;\n\t\t\ttext-shadow: 1px 1px rgba(0, 0, 0, 0.6);\n\t\t}\n\n\t\t.jp-card-logo.jp-card-maestro:before,\n\t\t.jp-card-logo.jp-card-maestro:after {\n\t\t\tcontent: \" \";\n\t\t\tdisplay: block;\n\t\t\twidth: 36px;\n\t\t\ttop: 0;\n\t\t\tposition: absolute;\n\t\t\theight: 36px;\n\t\t\tborder-radius: 18px;\n\t\t}\n\n\t\t.jp-card-logo.jp-card-maestro:before {\n\t\t\tleft: 0;\n\t\t\tbackground: #0064CB;\n\t\t\tz-index: -1;\n\t\t}\n\n\t\t.jp-card-logo.jp-card-maestro:after {\n\t\t\tright: 0;\n\t\t\tbackground: #CC0000;\n\t\t\tz-index: -2;\n\t\t}\n\n\t\t.jp-card.jp-card-maestro.jp-card-identified .jp-card-front .jp-card-logo.jp-card-maestro,\n\t\t.jp-card.jp-card-maestro.jp-card-identified .jp-card-back .jp-card-logo.jp-card-maestro {\n\t\t\tbox-shadow: none;\n\t\t}\n\n\t\t.jp-card.jp-card-maestro.jp-card-identified .jp-card-front:before,\n\t\t.jp-card.jp-card-maestro.jp-card-identified .jp-card-back:before {\n\t\t\tbackground-color: #0B2C5F;\n\t\t}\n\n\t\t.jp-card.jp-card-maestro.jp-card-identified .jp-card-logo.jp-card-maestro {\n\t\t\topacity: 1;\n\t\t}\n\n\t\t.jp-card-logo.jp-card-dankort {\n\t\t\twidth: 60px;\n\t\t\theight: 36px;\n\t\t\tpadding: 3px;\n\t\t\tborder-radius: 8px;\n\t\t\tborder: #000000 1px solid;\n\t\t\tbackground-color: #FFFFFF;\n\t\t}\n\n\t\t.jp-card-logo.jp-card-dankort .dk {\n\t\t\tposition: relative;\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t\toverflow: hidden;\n\t\t}\n\n\t\t.jp-card-logo.jp-card-dankort .dk:before {\n\t\t\tbackground-color: #ED1C24;\n\t\t\tcontent: '';\n\t\t\tposition: absolute;\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t\tdisplay: block;\n\t\t\tborder-radius: 6px;\n\t\t}\n\n\t\t.jp-card-logo.jp-card-dankort .dk:after {\n\t\t\tcontent: '';\n\t\t\tposition: absolute;\n\t\t\ttop: 50%;\n\t\t\tmargin-top: -7.7px;\n\t\t\tright: 0;\n\t\t\twidth: 0;\n\t\t\theight: 0;\n\t\t\tborder-style: solid;\n\t\t\tborder-width: 7px 7px 10px 0;\n\t\t\tborder-color: transparent #ED1C24 transparent transparent;\n\t\t\tz-index: 1;\n\t\t}\n\n\t\t.jp-card-logo.jp-card-dankort .d,\n\t\t.jp-card-logo.jp-card-dankort .k {\n\t\t\tposition: absolute;\n\t\t\ttop: 50%;\n\t\t\twidth: 50%;\n\t\t\tdisplay: block;\n\t\t\theight: 15.4px;\n\t\t\tmargin-top: -7.7px;\n\t\t\tbackground: white;\n\t\t}\n\n\t\t.jp-card-logo.jp-card-dankort .d {\n\t\t\tleft: 0;\n\t\t\tborder-radius: 0 8px 10px 0;\n\t\t}\n\n\t\t.jp-card-logo.jp-card-dankort .d:before {\n\t\t\tcontent: '';\n\t\t\tposition: absolute;\n\t\t\ttop: 50%;\n\t\t\tleft: 50%;\n\t\t\tdisplay: block;\n\t\t\tbackground: #ED1C24;\n\t\t\tborder-radius: 2px 4px 6px 0px;\n\t\t\theight: 5px;\n\t\t\twidth: 7px;\n\t\t\tmargin: -3px 0 0 -4px;\n\t\t}\n\n\t\t.jp-card-logo.jp-card-dankort .k {\n\t\t\tright: 0;\n\t\t}\n\n\t\t.jp-card-logo.jp-card-dankort .k:before,\n\t\t.jp-card-logo.jp-card-dankort .k:after {\n\t\t\tcontent: '';\n\t\t\tposition: absolute;\n\t\t\tright: 50%;\n\t\t\twidth: 0;\n\t\t\theight: 0;\n\t\t\tborder-style: solid;\n\t\t\tmargin-right: -1px;\n\t\t}\n\n\t\t.jp-card-logo.jp-card-dankort .k:before {\n\t\t\ttop: 0;\n\t\t\tborder-width: 8px 5px 0 0;\n\t\t\tborder-color: #ED1C24 transparent transparent transparent;\n\t\t}\n\n\t\t.jp-card-logo.jp-card-dankort .k:after {\n\t\t\tbottom: 0;\n\t\t\tborder-width: 0 5px 8px 0;\n\t\t\tborder-color: transparent transparent #ED1C24 transparent;\n\t\t}\n\n\t\t.jp-card.jp-card-dankort.jp-card-identified .jp-card-front:before,\n\t\t.jp-card.jp-card-dankort.jp-card-identified .jp-card-back:before {\n\t\t\tbackground-color: #0055C7;\n\t\t}\n\n\t\t.jp-card.jp-card-dankort.jp-card-identified .jp-card-logo.jp-card-dankort {\n\t\t\topacity: 1;\n\t\t}\n\n\t\t.jp-card-container {\n\t\t\t-webkit-perspective: 1000px;\n\t\t\t-moz-perspective: 1000px;\n\t\t\tperspective: 1000px;\n\t\t\twidth: 350px;\n\t\t\tmax-width: 100%;\n\t\t\theight: 200px;\n\t\t\tmargin: auto;\n\t\t\tz-index: 1;\n\t\t\tposition: relative;\n\t\t}\n\n\t\t.jp-card {\n\t\t\tfont-family: \"Helvetica Neue\";\n\t\t\tline-height: 1;\n\t\t\tposition: relative;\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t\tmin-width: 315px;\n\t\t\tborder-radius: 10px;\n\t\t\t-webkit-transform-style: preserve-3d;\n\t\t\t-moz-transform-style: preserve-3d;\n\t\t\t-ms-transform-style: preserve-3d;\n\t\t\t-o-transform-style: preserve-3d;\n\t\t\ttransform-style: preserve-3d;\n\t\t\t-webkit-transition: all 400ms linear;\n\t\t\t-moz-transition: all 400ms linear;\n\t\t\ttransition: all 400ms linear;\n\t\t}\n\n\t\t.jp-card > *,\n\t\t.jp-card > *:before,\n\t\t.jp-card > *:after {\n\t\t\t-moz-box-sizing: border-box;\n\t\t\t-webkit-box-sizing: border-box;\n\t\t\tbox-sizing: border-box;\n\t\t\tfont-family: inherit;\n\t\t}\n\n\t\t.jp-card.jp-card-flipped {\n\t\t\t-webkit-transform: rotateY(180deg);\n\t\t\t-moz-transform: rotateY(180deg);\n\t\t\t-ms-transform: rotateY(180deg);\n\t\t\t-o-transform: rotateY(180deg);\n\t\t\ttransform: rotateY(180deg);\n\t\t}\n\n\t\t.jp-card .jp-card-front,\n\t\t.jp-card .jp-card-back {\n\t\t\t-webkit-backface-visibility: hidden;\n\t\t\tbackface-visibility: hidden;\n\t\t\t-webkit-transform-style: preserve-3d;\n\t\t\t-moz-transform-style: preserve-3d;\n\t\t\t-ms-transform-style: preserve-3d;\n\t\t\t-o-transform-style: preserve-3d;\n\t\t\ttransform-style: preserve-3d;\n\t\t\t-webkit-transition: all 400ms linear;\n\t\t\t-moz-transition: all 400ms linear;\n\t\t\ttransition: all 400ms linear;\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\toverflow: hidden;\n\t\t\tborder-radius: 10px;\n\t\t\tbackground: #DDD;\n\t\t}\n\n\t\t.jp-card .jp-card-front:before,\n\t\t.jp-card .jp-card-back:before {\n\t\t\tcontent: \" \";\n\t\t\tdisplay: block;\n\t\t\tposition: absolute;\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\topacity: 0;\n\t\t\tborder-radius: 10px;\n\t\t\t-webkit-transition: all 400ms ease;\n\t\t\t-moz-transition: all 400ms ease;\n\t\t\ttransition: all 400ms ease;\n\t\t}\n\n\t\t.jp-card .jp-card-front:after,\n\t\t.jp-card .jp-card-back:after {\n\t\t\tcontent: \" \";\n\t\t\tdisplay: block;\n\t\t}\n\n\t\t.jp-card .jp-card-front .jp-card-display,\n\t\t.jp-card .jp-card-back .jp-card-display {\n\t\t\tcolor: white;\n\t\t\tfont-weight: normal;\n\t\t\topacity: 0.5;\n\t\t\t-webkit-transition: opacity 400ms linear;\n\t\t\t-moz-transition: opacity 400ms linear;\n\t\t\ttransition: opacity 400ms linear;\n\t\t}\n\n\t\t.jp-card .jp-card-front .jp-card-display.jp-card-focused,\n\t\t.jp-card .jp-card-back .jp-card-display.jp-card-focused {\n\t\t\topacity: 1;\n\t\t\tfont-weight: 700;\n\t\t}\n\n\t\t.jp-card .jp-card-front .jp-card-cvc,\n\t\t.jp-card .jp-card-back .jp-card-cvc {\n\t\t\tfont-family: \"Bitstream Vera Sans Mono\", Consolas, Courier, monospace;\n\t\t\tfont-size: 14px;\n\t\t}\n\n\t\t.jp-card .jp-card-front .jp-card-shiny,\n\t\t.jp-card .jp-card-back .jp-card-shiny {\n\t\t\twidth: 50px;\n\t\t\theight: 35px;\n\t\t\tborder-radius: 5px;\n\t\t\tbackground: #CCC;\n\t\t\tposition: relative;\n\t\t}\n\n\t\t.jp-card .jp-card-front .jp-card-shiny:before,\n\t\t.jp-card .jp-card-back .jp-card-shiny:before {\n\t\t\tcontent: \" \";\n\t\t\tdisplay: block;\n\t\t\twidth: 70%;\n\t\t\theight: 60%;\n\t\t\tborder-top-right-radius: 5px;\n\t\t\tborder-bottom-right-radius: 5px;\n\t\t\tbackground: #d9d9d9;\n\t\t\tposition: absolute;\n\t\t\ttop: 20%;\n\t\t}\n\n\t\t.jp-card .jp-card-front .jp-card-logo {\n\t\t\tposition: absolute;\n\t\t\topacity: 0;\n\t\t\tright: 5%;\n\t\t\ttop: 8%;\n\t\t\t-webkit-transition: 400ms;\n\t\t\t-moz-transition: 400ms;\n\t\t\ttransition: 400ms;\n\t\t}\n\n\t\t.jp-card .jp-card-front .jp-card-lower {\n\t\t\twidth: 80%;\n\t\t\tposition: absolute;\n\t\t\tleft: 10%;\n\t\t\tbottom: 30px;\n\t\t}\n\n\t\t@media only screen and (max-width: 480px) {\n\t\t\t.jp-card .jp-card-front .jp-card-lower {\n\t\t\t\twidth: 90%;\n\t\t\t\tleft: 5%;\n\t\t\t}\n\t\t}\n\n\t\t.jp-card .jp-card-front .jp-card-lower .jp-card-cvc {\n\t\t\tvisibility: hidden;\n\t\t\tfloat: right;\n\t\t\tposition: relative;\n\t\t\tbottom: 5px;\n\t\t}\n\n\t\t.jp-card .jp-card-front .jp-card-lower .jp-card-number {\n\t\t\tfont-family: \"Bitstream Vera Sans Mono\", Consolas, Courier, monospace;\n\t\t\tfont-size: 24px;\n\t\t\tclear: both;\n\t\t\tmargin-bottom: 30px;\n\t\t}\n\n\t\t.jp-card .jp-card-front .jp-card-lower .jp-card-expiry {\n\t\t\tfont-family: \"Bitstream Vera Sans Mono\", Consolas, Courier, monospace;\n\t\t\tletter-spacing: 0em;\n\t\t\tposition: relative;\n\t\t\tfloat: right;\n\t\t\twidth: 25%;\n\t\t}\n\n\t\t.jp-card .jp-card-front .jp-card-lower .jp-card-expiry:before,\n\t\t.jp-card .jp-card-front .jp-card-lower .jp-card-expiry:after {\n\t\t\tfont-family: \"Helvetica Neue\";\n\t\t\tfont-weight: bold;\n\t\t\tfont-size: 7px;\n\t\t\twhite-space: pre;\n\t\t\tdisplay: block;\n\t\t\topacity: .5;\n\t\t}\n\n\t\t.jp-card .jp-card-front .jp-card-lower .jp-card-expiry:before {\n\t\t\tcontent: attr(data-before);\n\t\t\tmargin-bottom: 2px;\n\t\t\tfont-size: 7px;\n\t\t\ttext-transform: uppercase;\n\t\t}\n\n\t\t.jp-card .jp-card-front .jp-card-lower .jp-card-expiry:after {\n\t\t\tposition: absolute;\n\t\t\tcontent: attr(data-after);\n\t\t\ttext-align: right;\n\t\t\tright: 100%;\n\t\t\tmargin-right: 5px;\n\t\t\tmargin-top: 2px;\n\t\t\tbottom: 0;\n\t\t}\n\n\t\t.jp-card .jp-card-front .jp-card-lower .jp-card-name {\n\t\t\ttext-transform: uppercase;\n\t\t\tfont-family: \"Bitstream Vera Sans Mono\", Consolas, Courier, monospace;\n\t\t\tfont-size: 20px;\n\t\t\tmax-height: 45px;\n\t\t\tposition: absolute;\n\t\t\tbottom: 0;\n\t\t\twidth: 190px;\n\t\t\tdisplay: -webkit-box;\n\t\t\t-webkit-line-clamp: 2;\n\t\t\t-webkit-box-orient: horizontal;\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t}\n\n\t\t.jp-card .jp-card-back {\n\t\t\t-webkit-transform: rotateY(180deg);\n\t\t\t-moz-transform: rotateY(180deg);\n\t\t\t-ms-transform: rotateY(180deg);\n\t\t\t-o-transform: rotateY(180deg);\n\t\t\ttransform: rotateY(180deg);\n\t\t}\n\n\t\t.jp-card .jp-card-back .jp-card-bar {\n\t\t\tbackground-color: #444;\n\t\t\tbackground-image: -webkit-linear-gradient(#444, #333);\n\t\t\tbackground-image: linear-gradient(#444, #333, , , , , , , , );\n\t\t\twidth: 100%;\n\t\t\theight: 20%;\n\t\t\tposition: absolute;\n\t\t\ttop: 10%;\n\t\t}\n\n\t\t.jp-card .jp-card-back:after {\n\t\t\tcontent: \" \";\n\t\t\tdisplay: block;\n\t\t\tbackground-color: #FFF;\n\t\t\tbackground-image: -webkit-linear-gradient(#FFF, #FFF);\n\t\t\tbackground-image: linear-gradient(#FFF, #FFF, , , , , , , , );\n\t\t\twidth: 80%;\n\t\t\theight: 16%;\n\t\t\tposition: absolute;\n\t\t\ttop: 40%;\n\t\t\tleft: 2%;\n\t\t}\n\n\t\t.jp-card .jp-card-back .jp-card-cvc {\n\t\t\tposition: absolute;\n\t\t\ttop: 40%;\n\t\t\tleft: 85%;\n\t\t\t-webkit-transition-delay: 600ms;\n\t\t\t-moz-transition-delay: 600ms;\n\t\t\ttransition-delay: 600ms;\n\t\t}\n\n\t\t.jp-card .jp-card-back .jp-card-shiny {\n\t\t\tposition: absolute;\n\t\t\ttop: 66%;\n\t\t\tleft: 2%;\n\t\t}\n\n\t\t.jp-card .jp-card-back .jp-card-shiny:after {\n\t\t\tcontent: \"This card has been issued by Jesse Pollak and is licensed for anyone to use anywhere for free.AIt comes with no warranty.A For support issues, please visit: github.com/jessepollak/card.\";\n\t\t\tposition: absolute;\n\t\t\tleft: 120%;\n\t\t\ttop: 5%;\n\t\t\tcolor: white;\n\t\t\tfont-size: 7px;\n\t\t\twidth: 230px;\n\t\t\topacity: .5;\n\t\t}\n\n\t\t.jp-card.jp-card-identified {\n\t\t\tbox-shadow: 0 0 20px rgba(0, 0, 0, 0.3);\n\t\t}\n\n\t\t.jp-card.jp-card-identified .jp-card-front,\n\t\t.jp-card.jp-card-identified .jp-card-back {\n\t\t\tbackground-color: #000;\n\t\t\tbackground-color: rgba(0, 0, 0, 0.5);\n\t\t}\n\n\t\t.jp-card.jp-card-identified .jp-card-front:before,\n\t\t.jp-card.jp-card-identified .jp-card-back:before {\n\t\t\t-webkit-transition: all 400ms ease;\n\t\t\t-moz-transition: all 400ms ease;\n\t\t\ttransition: all 400ms ease;\n\t\t\tbackground-image: repeating-linear-gradient(45deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(135deg, rgba(255, 255, 255, 0.05) 1px, rgba(255, 255, 255, 0) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.03) 4px), repeating-linear-gradient(90deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(210deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-radial-gradient(circle at 70% 70%, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-radial-gradient(circle at 90% 20%, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-radial-gradient(circle at 15% 80%, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), -webkit-linear-gradient(-245deg, rgba(255, 255, 255, 0) 50%, rgba(255, 255, 255, 0.2) 70%, rgba(255, 255, 255, 0) 90%);\n\t\t\tbackground-image: repeating-linear-gradient(45deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(135deg, rgba(255, 255, 255, 0.05) 1px, rgba(255, 255, 255, 0) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.03) 4px), repeating-linear-gradient(90deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(210deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-radial-gradient(circle at 70% 70%, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-radial-gradient(circle at 90% 20%, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-radial-gradient(circle at 15% 80%, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), linear-gradient(-25deg, rgba(255, 255, 255, 0) 50%, rgba(255, 255, 255, 0.2) 70%, rgba(255, 255, 255, 0) 90%);\n\t\t\topacity: 1;\n\t\t}\n\n\t\t.jp-card.jp-card-identified .jp-card-front .jp-card-logo,\n\t\t.jp-card.jp-card-identified .jp-card-back .jp-card-logo {\n\t\t\tbox-shadow: 0 0 0 2px rgba(255, 255, 255, 0.3);\n\t\t}\n\n\t\t.jp-card.jp-card-identified.no-radial-gradient .jp-card-front:before,\n\t\t.jp-card.jp-card-identified.no-radial-gradient .jp-card-back:before {\n\t\t\tbackground-image: repeating-linear-gradient(45deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(135deg, rgba(255, 255, 255, 0.05) 1px, rgba(255, 255, 255, 0) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.03) 4px), repeating-linear-gradient(90deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(210deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), -webkit-linear-gradient(-245deg, rgba(255, 255, 255, 0) 50%, rgba(255, 255, 255, 0.2) 70%, rgba(255, 255, 255, 0) 90%);\n\t\t\tbackground-image: repeating-linear-gradient(45deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(135deg, rgba(255, 255, 255, 0.05) 1px, rgba(255, 255, 255, 0) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.03) 4px), repeating-linear-gradient(90deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(210deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), linear-gradient(-25deg, rgba(255, 255, 255, 0) 50%, rgba(255, 255, 255, 0.2) 70%, rgba(255, 255, 255, 0) 90%);\n\t\t}\n\t</style>\n</head>\n\n<body>\n\t<div class=\"demo-container\">\n\t\t<div class=\"card-wrapper\"></div>\n\n\t\t<div class=\"form-container active\">\n\t\t\t<form action=\"\">\n\t\t\t\t<p class=\"small\">Start typing in here to take over and try it out</p>\n\t\t\t\t<div class=\"row collapse\">\n\t\t\t\t\t<div class=\"small-6 columns\">\n\t\t\t\t\t\t<input placeholder=\"Card number\" type=\"text\" name=\"number\" id=\"ccnum\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"small-6 columns\">\n\t\t\t\t\t\t<input placeholder=\"Full name\" type=\"text\" name=\"name\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"row collapse\">\n\t\t\t\t\t<div class=\"small-3 columns\">\n\t\t\t\t\t\t<input placeholder=\"MM/YY\" type=\"text\" name=\"expiry\" id=\"expiry\">\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"small-3 columns\">\n\t\t\t\t\t\t<input placeholder=\"CVC\" type=\"text\" name=\"cvc\" id=\"cvc\">\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"small-6 columns\">\n\t\t\t\t\t\t<input id=\"submit\" type=\"submit\" value=\"Pay " + amount + "\" class=\"button postfix\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</div>\n\t</div>\n\t<script src=\"https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.0/highlight.min.js\"></script>\n\t<script src=\"http://jessepollak.github.io/card/build/js/demo.js\"></script>\n\t<script src=\"https://rawgit.com/jessepollak/card/master/lib/js/card.js?v=beta1\"></script>\n\t<script src=\"http://jondavidjohn.github.io/payform/javascripts/payform.min.js\"></script>\n\t<script src=\"http://127.0.0.1:8080/Veritrans.js\"></script>\n\t<script>\n\t\t$('code').each(function(i, e) {hljs.highlightBlock(e)});\n        var card = new Card({ form: '.active form', container: '.card-wrapper' })\n\t</script>\n\t<script>\n\t\tVeritrans.url = \"" + url + "\";\n\t\tVeritrans.client_key = \"" + clientKey + "\";\n\t\tvar card = function(){\n\t\t\treturn {\n\t\t\t'card_number'     \t: document.getElementById(\"ccnum\").value.replace(/s+/, \"\").trim(),\n\t\t\t'card_exp_month'  \t: payform.parseCardExpiry(document.getElementById(\"expiry\").value).month < 10 ? \"0\" + payform.parseCardExpiry(document.getElementById(\"expiry\").value).month :\n\t\t\tpayform.parseCardExpiry(document.getElementById(\"expiry\").value).month,\n\t\t\t'card_exp_year'   \t: payform.parseCardExpiry(document.getElementById(\"expiry\").value).year,\n\t\t\t'card_cvv'        \t: document.getElementById(\"cvc\").value.replace(/s+/, \"\").trim(),\n\t\t\t'secure'       \t\t: " + secure + ",\n\t\t\t'gross_amount'   \t: " + amount + "\n\t\t\t}\n\t\t};\n\n\t\tdocument.getElementById(\"submit\").addEventListener(\"click\", function() {\n\t\t\tVeritrans.token(card, function(event){\n\t\t\t\twindow.parent.postMessage(event.token_id, \"http://" + host + "\");\n\t\t\t});\n\t\t});\n\t</script>\n</body>\n\n</html>\n        ";
        return html;
    }
    template.cardio = cardio;
})(template || (template = {}));
/// <reference path="Util.ts" />
/// <reference path="Client.ts" />
/// <reference path="Template.ts" />
// Add IE-specific interfaces to Window
// interface Window {
//     attachEvent(event: string, listener: any): boolean;
//     detachEvent(event: string, listener: any): void;
// }
var ProjectDon = (function () {
    function ProjectDon(util, window) {
        this.url = "https://api.veritrans.co.id/v2/token";
        this.client_key = "";
        this.util = util;
        this.window = window;
    }
    ProjectDon.prototype.prefix = function (event) {
        this.callback(event);
    };
    ProjectDon.prototype.token = function (token, callbackEvent) {
        var cleanToken = this.util.validateToken(token, this.client_key, false);
        var request = this.url + this.util.toQueryParam(cleanToken);
        this.callback = callbackEvent;
        // add event listener
        if (window.addEventListener) {
            window.addEventListener("message", function (event) {
                if (event.data) {
                    callbackEvent(event.data);
                }
            });
        }
        else {
        }
        this.util.processJsonP(request);
    };
    ;
    ProjectDon.prototype.tokenCvv = function (token, callbackEvent) {
        var cleanToken = this.util.validateToken(token, this.client_key, true);
        var request = this.url + this.util.toQueryParam(cleanToken);
        this.util.processJsonP(request);
        // add event listener
        if (window.addEventListener) {
            window.addEventListener("message", function (event) {
                if (event.data) {
                    callbackEvent(event.data);
                }
            }, false);
        }
        else {
        }
        this.util.processJsonP(request);
    };
    ;
    // callbackMerchant diatas
    ProjectDon.prototype.generateForm = function (id, templateName, amount, secure, callback) {
        var document = window.document;
        var iframe = document.createElement('iframe');
        var templateObj = template;
        var host = window.location.host;
        var html = templateObj[templateName](this.url, this.client_key, host, amount, secure);
        window.document.getElementById(id).appendChild(iframe);
        iframe.contentWindow.document.open();
        iframe.contentWindow.document.write(html);
        iframe.contentWindow.document.close();
        window.addEventListener("message", function (event) {
            //3d secure
            if (event.data.redirect_url) {
                console.log('3d-secure');
                iframe.src = event.data.redirect_url;
            }
            else if (event.data.status_code == '200') {
                console.log('3d-secure or success normal');
                // iframe.contentWindow.document.close();
                if (event.data) {
                    callback(event.data ? event.data : "");
                }
            }
            else {
                //failed
                console.log('get token failed');
            }
        });
    };
    return ProjectDon;
})();
// appendRedirectUrl (migs) 
/// <reference path="ProjectDon.ts" />
// stupid compiler
var Veritrans = new ProjectDon(new Util(document), window);
